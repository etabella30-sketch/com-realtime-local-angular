<header class="py-2.5 px-5 flex items-center bg-faint ">
        <span class="text-lg font-bold">{{frm.value.permission=='N'?'New':'Edit'}} Session</span>
</header>
<form [formGroup]="frm" class="p-5 flex flex-col gap-6">

        <div>
                <label class="text-sm font-bold mb-2 block">
                        Session Name
                        <span class="text-xxs font-normal text-gray-500 ms-2"></span>
                </label>
                <input class="block w-full px-3 py-2 border  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                        placeholder="Enter Session Name" type="text" formControlName="cName" />
        </div>
        <div>
                <label class="text-sm font-bold mb-2 block">
                        Case No.
                        <span class="text-xxs font-normal text-gray-500 ms-2"></span>
                </label>
                <input [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                        class="block w-full px-3 py-2 border  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                        placeholder="Enter Case No." type="text" formControlName="cCaseno" />
        </div>
        <div>
                <h6 class="text-base font-bold mb-2">Protocol</h6>
                <mat-form-field class="w-full">
                        <mat-select placeholder="Select.." formControlName="cProtocol">
                                <mat-option *ngFor="let x of protocols" [value]="x.value">
                                        {{ x.name }}
                                </mat-option>
                        </mat-select>
                </mat-form-field>
        </div>

        @if (frm.value.cProtocol=='B') {
        <div>
                <mat-checkbox formControlName="bRefresh">Feed with refresh data</mat-checkbox>
        </div>




        }

        <div class="mt-3">
                <h6 class="text-sm font-bold">Schedule</h6>
                <div class="flex items-center gap-3">
                        <input class="block w-14 px-3 py-2 border text-center  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                                placeholder="DD" type="text"
                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}" formControlName="dD"
                                (change)="DateChange('d',frm.value.dD)" />
                        <span>/</span>
                        <input class="block w-14 px-3 py-2 text-center border  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                                placeholder="MM" type="text"
                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}" formControlName="dM"
                                (change)="DateChange('m',frm.value.dM)" />
                        <span>/</span>
                        <input class="block w-14 px-3 text-center py-2 border  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                                placeholder="YY" type="text"
                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}" formControlName="dY"
                                (change)="DateChange('y',frm.value.dY)" />
                        <div>
                                <mat-form-field class="w-0 h-0 p-0 !flex">
                                        <input class="w-0 h-0" matInput [matDatepicker]="picker" formControlName="date"
                                                (dateChange)="OndateChange($event)" [disabled]="data?.cStatus=='R'"
                                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}">
                                        <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                                <mat-datepicker-toggle matIconSuffix class="!text-grey flex"
                                        [disabled]="data?.cStatus=='R'" [for]="picker"
                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"></mat-datepicker-toggle>
                        </div>
                        <span class="text-xs whitespace-nowrap">No. of days </span>
                        <input class="block w-9 px-3 py-2 border  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}" placeholder="1"
                                type="text" formControlName="nDays"
                                [ngClass]="{'pointer-events-none opacity-50':frm.value.permission=='E'}" />
                        <label class="custtimepicker h-8.5 flex items-center w-fit ">
                                <input #hour type="tel" style="max-width: 25px;"
                                        class="text-xs outline-none text-center mt-1" pattern="\d*" min="0" max="12"
                                        maxlength="2" placeholder="HH" (keydown)="preventNonNumeric($event)"
                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                                        (change)="OnValueVarify('timeH')" (input)="validateInput($event,'H')"
                                        (keyup)="handleHourInput($event,minut)" formControlName="timeH">
                                <span class="px-px">:</span>
                                <input #minut type="tel" style="max-width: 25px;"
                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}" min="1"
                                        max="12" maxlength="2" pattern="\d*" placeholder="MM"
                                        (keydown)="preventNonNumeric($event)" (change)="OnValueVarify('timeM')"
                                        (keyup)="handleMinuteInput($event,hour)"
                                        class="text-xs text-center outline-none mt-1"
                                        (input)="validateInput($event,'M')" formControlName="timeM">
                                <ul class="flex w-fit gap-1 ms-1">
                                        <li>
                                                <input type="radio" id="hosting-small"
                                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                                                        [disabled]="data?.cStatus=='R'" name="ttype" value="AM"
                                                        class="hidden peer" required formControlName="ttype" />
                                                <label for="hosting-small"
                                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                                                        class="inline-flex items-center justify-between w-fit px-2 py-1 text-center text-gray-500 bg-white  rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:bg-blue-100 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 ">
                                                        <div class="block">
                                                                <div class="w-full text-xs font-semibold">AM</div>
                                                        </div>
                                                </label>
                                        </li>
                                        <li>
                                                <input type="radio" id="hosting-big" name="ttype" value="PM"
                                                        formControlName="ttype"
                                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                                                        class="hidden peer">
                                                <label for="hosting-big"
                                                        [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                                                        class="inline-flex items-center justify-between w-fit px-2 py-1 text-gray-500 bg-white rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 text-center dark:peer-checked:text-blue-500 peer-checked:bg-blue-100 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100">
                                                        <div class="block">
                                                                <div class="w-full text-xs font-semibold ">PM
                                                                </div>
                                                        </div>
                                                </label>
                                        </li>
                                </ul>

                        </label>
                </div>
        </div>
        <div class="mt-3">
                <h6 class="text-sm font-bold">Display</h6>
                <div class="flex items-center gap-3">
                        <span class="text-xs">Lines per page</span>
                        <input class="block w-16 px-3 py-2 border rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                                placeholder="23" type="number"
                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}"
                                formControlName="nLines" />
                        <span class="text-xs">Start at page</span>
                        <input class="block w-9 px-3 py-2 border  rounded-base shadow-sm focus:outline-none text-xs border-tab text-gray focus:shadow-[0px_0px_6px_#0066FF] focus:border-blue-deactivate"
                                placeholder="1" type="text" formControlName="nPageno"
                                [ngClass]="{'pointer-events-none opacity-50':data?.cStatus=='R'}" />
                </div>
        </div>
        @if(frm?.value?.permission == 'N'){

        <!-- <div class="mt-3">
                <h6 class="text-sm font-bold">Between Options</h6>
                <div class="flex items-center gap-3">
                        <ul class="flex w-fit gap-1">
                                <li>
                                        <input type="radio" id="between-all" name="betweenType" value="all"
                                                class="hidden peer" required formControlName="betweenType" />
                                        <label for="between-all"
                                                class="inline-flex items-center justify-between w-fit px-2 py-1 text-center text-gray-500 bg-white rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:bg-blue-100 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100">
                                                <div class="block">
                                                        <div class="w-full text-xs font-semibold">Between</div>
                                                </div>
                                        </label>
                                </li>
                                <li>
                                        <input type="radio" id="between-no-first-last" name="betweenType"
                                                value="no-first-last" class="hidden peer"
                                                formControlName="betweenType" />
                                        <label for="between-no-first-last"
                                                class="inline-flex items-center justify-between w-fit px-2 py-1 text-gray-500 bg-white rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 text-center dark:peer-checked:text-blue-500 peer-checked:bg-blue-100 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100">
                                                <div class="block">
                                                        <div class="w-full text-xs font-semibold">Between exclude
                                                                first,last</div>
                                                </div>
                                        </label>
                                </li>
                                <li>
                                        <input type="radio" id="between-no-first" name="betweenType" value="no-first"
                                                class="hidden peer" formControlName="betweenType" />
                                        <label for="between-no-first"
                                                class="inline-flex items-center justify-between w-fit px-2 py-1 text-gray-500 bg-white rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 text-center dark:peer-checked:text-blue-500 peer-checked:bg-blue-100 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100">
                                                <div class="block">
                                                        <div class="w-full text-xs font-semibold">Between exclude first
                                                        </div>
                                                </div>
                                        </label>
                                </li>
                                <li>
                                        <input type="radio" id="between-no-last" name="betweenType" value="no-last"
                                                class="hidden peer" formControlName="betweenType" />
                                        <label for="between-no-last"
                                                class="inline-flex items-center justify-between w-fit px-2 py-1 text-gray-500 bg-white rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 text-center dark:peer-checked:text-blue-500 peer-checked:bg-blue-100 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100">
                                                <div class="block">
                                                        <div class="w-full text-xs font-semibold">Between exclude last
                                                        </div>
                                                </div>
                                        </label>
                                </li>
                        </ul>
                </div>
        </div> -->
        }
        <div class="flex gap-2">
                <btn (click)="submitForm()" [disabled]="frm.invalid" [attr.isdisabled]="frm.invalid">
                        {{frm.value.permission=='N'?'Create':'Update'}}
                </btn>
                <btn mode="white" (click)="assign(frm)" *ngIf="frm.value.permission!='N' && data?.nRTSid">Edit Assignees
                </btn>
                <btn mode="white" (click)="changeServer()"
                        *ngIf="frm.value.permission!='N' && data?.nRTSid && data?.cStatus!='R'">Change Server</btn>
        </div>
</form>